<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>객체활용하기</title>
  </head>
  <body>
    <h2>객체의 선언과 호출</h2>
    <p>
      js에서 객체는 key:value형식의 구조를 가진다<br />
      객체에 선언된 keys는 객체에 속한 하나의 변수다. 모든 자료형 값을 저장할 수
      있다. <br />
      key에 함수가 저장이 되면 멤버메소드로 보면된다. <br />
      key값은 중복이 불가능하다.
    </p>
    <h3>객체 생성하기</h3>
    <p>
      1. 리터럴로 생성하기 : {key:value,key:value,key:value...} <br />
      2. 함수(생성자 함수, 일반 함수)를 이용해서 생성하기 <br />
      - 일반함수 : 객체를 반환하는 함수 <br />
      - 생성자함수 : new연산자로 생성할수 있게 해주는 함수 <br />
    </p>
    <h4>리터럴로 생성하기</h4>
    <script>
      let obj = {}; //객체
      console.log(obj, typeof obj);
      //생성과 동시에 초기화한 객체
      obj = {
        name: "유병승",
        age: 19,
        gender: "남",
        hobby: ["독서", "코딩"],
        item: {
          name: "컴퓨터",
          price: 150,
        },
        getString: function () {
          return (
            this.name + " " + this.age + " " + this.gender + " " + this.hobby
          );
        },
      };
      console.log(obj);
      //생성된 객체의 데이터에 접근하기
      //객체의 값에 접근할때는 key값을 이용해서 접근한다.
      // 객체명. / 객체명["키값"]
      console.log(obj.name);
      console.log(obj["age"]);
      let key = "name";
      console.log(obj.key);
      console.log(obj[key]);

      //객체속성 중 배열, 객체에 접근하기
      console.log(obj.hobby[0]);
      console.log(obj["hobby"][1]);
      console.log(obj.item.name);
      console.log(obj["item"].price);
      console.log(obj["item"]["name"]);

      //객체속성 중 함수에 접근하기
      let result = obj.getString();
      console.log(result);

      //객체에 있는 데이터 순회하기
      //for in 구문 사용 객체의 key값을 가져오는 for문
      for (k in obj) {
        console.log(k);
        console.log(obj[k]);
      }
    </script>
    <h2>함수를 이용해서 객체를 생성하기</h2>
    <script>
      //이름,나이,학년,반,번호를 갖는 학생 3명을 저장하기
      //   let s = { name: "유병승", age: 19, grade: 1, classNum: 3, number: 3 };
      //   let s1 = { name: "최주영", age: 26, grade: 3, classNum: 1, number: 1 };
      //   let s2 = { name: "이은지", age: 26, grade: 3, classNum: 1, number: 2 };
      let s = getStudent("유병승", 19, 1, 3, 3);
      let s1 = getStudent("최주영", 26, 3, 1, 1);
      let s2 = getStudent("이은지", 26, 3, 1, 2);
      console.log(s.toString());
      console.log(s1.toString());
      console.log(s2.toString());
      console.log(s.name);
      console.log(s["age"]);

      for (k in s) {
        console.log(k, s[k]);
      }

      function getStudent(name, age, grade, classNum, number) {
        let s = {
          name: name,
          age: age,
          grade: grade,
          classNum: classNum,
          number: number,
          toString: function () {
            return (
              this.name +
              " " +
              this.age +
              " " +
              this.grade +
              " " +
              this.classNum +
              " " +
              this.number
            );
          },
        };
        return s;
      }
    </script>
    <h3>생성자 함수를 이용해서 객체를 생성하기</h3>
    <p>
      자바의 생성자와 동일한 기능을 한다고 생각! <br />
      생성자 함수는 자바의 클래스와 유사함 <br />
      생성자 함수로 선언된 객체는 new연산자를 이용해서 생성함. <br />
      생성자 함수의 명칭을 첫글자를 대문자로 명명함. <br />
      prototype을 이용할 수 있다.(원본형)
    </p>
    <script>
      function Person(name, age, gender, height, address) {
        //생성자함수에서 속성을 설정할 때는 this예약어를 사용함.
        this.name = name;
        this.age = age;
        this.gender = gender;
        this.height = height;
        this.address = address;
        // this.toString = function () {
        //   return (
        //     this.name + this.age + this.gender + this.height + this.address
        //   );
        // };
      }
      //공통으로 사용하는 함수에 대해 prototype을 이용해서 선언할 수 있다.
      Person.prototype.toString = function () {
        return (
          this.name +
          " " +
          this.age +
          " " +
          this.gender +
          " " +
          this.height +
          " " +
          this.address
        );
      };
      let p = new Person("김재훈", 29, "남자", 188.3, "인천시");
      console.log(p);
      console.log(p.name);
      console.log(p["age"]);
      console.log(p.toString());
    </script>
    <h3>객체속성에 값대입하기</h3>
    <script>
      //속성을 지정하고 대입연산을 사용하면 된다.
      p.age = "22";
      console.log(p);
      p["height"] = 173.2;
      console.log(p);
    </script>

    <h3>객체에 속성(멤버변수)을 추가하고 삭제하기</h3>
    <script>
      let objTest = {};
      console.log(objTest);
      objTest.title = "오늘은 여기까지만!";
      console.log(objTest);
      objTest.calc = (su, su2) => su + su2;
      console.log(objTest.calc(10, 20));
      console.log(p);
      p.score = [100, 10, 10];
      console.log(p);
      objTest["content"] = "전 제대로 안나와요";
      console.log(objTest);

      //속성삭제하기
      //delete()함수를 이용
      delete objTest.title;
      console.log(objTest);
      delete objTest["content"];
      console.log(objTest);
    </script>
  </body>
</html>
